# 动态规划

## 1 简介

## 1.1 动态规划的背景

动态规划（英语：Dynamic programming，简称 DP）是一种算法思想：若要解一个给定问题，我们需要解其子问题，再根据子问题的解以得出原问题的解。

解决动态规划问题的核心：找出子问题，以及子问题与原问题的关系。



### 1.1.1 最优子结构

最优子结构规定的是子问题与原问题的关系。

当我们在求一个问题最优解的时候，如果可以把这个问题分解成多个子问题，然后递归地找到每个子问题的最优解，最后通过一定的数学方法对各个子问题的最优解进行组合得出最终的结果。总结来说就是一个问题的最优解是由它的各个子问题的最优解决定的。



* **将子问题的解进行组合可以得到原问题的解是动态规划可行性的关键**

* **状态转移方程** ： 由子问题的解组合成原问题的解的数学表达式



### 1.1.2 重复子问题

重复子问题规定的是子问题与子问题的关系。

当我们在递归地寻找每个子问题的最优解的时候，有可能会重复地遇到一些更小的子问题，而且这些子问题会重叠地出现在子问题里，出现这样的情况，会有很多重复的计算，动态规划可以保证每个重叠的子问题只会被求解一次。当重复的问题很多的时候，动态规划可以减少很多重复的计算。



重复子问题不是保证解的正确性必须的，但是**如果递归求解子问题时，没有出现重复子问题，则没有必要用动态规划，直接普通的递归**就可以了。



动态规划问题的解决步骤：

（1）解决动态规划问题的核心：找出子问题及其子问题与原问题的关系。

（2）找到了子问题以及子问题与原问题的关系，就可以递归地求解子问题了。

（3）但重叠的子问题使得直接递归会有很多重复计算，于是就想到记忆化递归法：若能事先确定子问题的范围就可以建表存储子问题的答案。



### 1.1.3 动态规划的关键点

动态规划算法中关于最优子结构和重复子问题的理解的关键点：

* 证明问题的方案中包含一种选择，选择之后留下一个或多个子问题
* 设计子问题的递归描述方式
* 证明对原问题的最优解包括了对所有子问题的最优解
* 证明子问题是重叠的（这一步不是动态规划正确性必需的，但是如果子问题无重叠，则效率与一般递归是相同的）



## 2 线性动态规划

线性动态规划的主要特点：状态的推导按照问题规模`i`由小到大依次推导，较大规模的问题的解依赖较小规模问题的解。

其中问题规模为 `i` 的含义 ：考虑前 `i` 个元素 `[0, i]` 时问题的解。



**状态定义**:

```c++
dp[i] := [0...i]  
```

**状态转移**：

```c++
dp[n] = f(dp[0], dp[1], ..., dp[n-1]);
```

